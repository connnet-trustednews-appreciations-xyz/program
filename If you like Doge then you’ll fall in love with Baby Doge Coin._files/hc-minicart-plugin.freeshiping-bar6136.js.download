class MiniCartFreeShipping extends MiniCartPlugin{constructor(e,i){super(e||i),this.pluginName="FreeShipping",this.params={freeShippingAmount:100*(parseInt(i.freeShippingAmount)||150),remainigLabel:i.remainigLabel||"Free shipping over %freeshiping_amount%! You need %remaining% to qualify for free shipping.",qualifiedLabel:i.qualifiedLabel||"You qualify for free shipping!"},this.htmlSelectors={bar:"hc-free-shipping-bar",text:"hc-free-shipping-text",container:"hc-free-shipping-conatainer"},this.jsSelectors={bar:"[hc-free-shipping-bar]",text:"[hc-free-shipping-text]",container:"[hc-free-shipping-conatainer]"}}_updateOn(e,i,n,r){e.total_price>0!=i.total_price>0?r(n.container):e.total_price!==i.total_price&&(r(n.bar),r(n.text))}ctx(e,i){const n=this.params.freeShippingAmount-e.total_price;const r=e.total_price/this.params.freeShippingAmount*100;const t=Shopify&&Shopify.formatMoney||theme&&theme.Currency&&theme.Currency.formatMoney;if(!t)throw Error(`There's no price formating function available`);return{total_price:t(e.total_price,i.formatPriceOptions),remaining_amount:t(n,i.formatPriceOptions),remaining_percent:r,freeshiping_amount:t(this.params.freeShippingAmount)}}_template(e){return`\n<div ${e.selectors.container} class="hc-mini-cart--free-shiping-container" style="${e.cart.total_price>0?"":"display: none;"}">\n<span ${e.selectors.text} class="hc-mini-cart--free-shipping-amount ${e.cart.total_price>=this.params.freeShippingAmount&&"hc-free-shipping-icons"||""}">\n<span>\n${e.cart.total_price<this.params.freeShippingAmount?this.params.remainigLabel.replace("%freeshiping_amount%",e.freeshiping_amount).replace("%remaining%",e.remaining_amount):this.params.qualifiedLabel.replace("%freeshiping_amount%",e.freeshiping_amount).replace("%remaining%",e.remaining_amount)}\n</span>\n</span>\n<div class="hc-mini-cart--free-shipping-bar">\n<div id="hc-bar-fill" ${e.selectors.bar} style="--percent: ${e.remaining_percent>=100?100:e.remaining_percent}%"></div>\n</div>\n</div>\n`}}
//# sourceMappingURL=/s/files/1/0388/4833/1916/t/35/assets/hc-minicart-plugin.freeshiping-bar.js.map?v=3672153989745446415
